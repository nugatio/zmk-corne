/*
COMBOS

keyboard: corne (https://github.com/foostan/crkbd)
firmware: zmk (https://zmk.dev/)
nugatio@2024.09.20 (https://github.com/nugatio/zmk-corne-config)
*/


// MACROS

#define COMBO(NAME, BINDINGS, KEYPOS) \
    combo_##NAME { \
        bindings = <BINDINGS>; \
        key-positions = <KEYPOS>; \
        timeout-ms = <COMBO_TIMEOUT>; \
    };


// OVERVIEW

/* key position names (defined in positions.dtsi)
    ╭─────────────────────╮ ╭─────────────────────╮
LT5 │ LT4 LT3 LT2 LT1 LT0 │ │ RT0 RT1 RT2 RT3 RT4 │ RT5
LM5 │ LM4 LM3 LM2 LM1 LM0 │ │ RM0 RM1 RM2 RM3 RM4 │ RM5
LB5 │ LB4 LB3 LB2 LB1 LB0 │ │ RB0 RB1 RB2 RB3 RB4 │ RB5
    ╰───────╮ LH3 LH2 LH1 │ │ RH1 RH2 RH3 ╭───────╯
            ╰─────────────╯ ╰─────────────╯

/* combo layout
    ╭─────────────────────╮ ╭─────────────────────╮
    │       RDO PST QIT   │ │    @   _   =   &    │
    │   All UND CPY NEW   │ │    {   (   [   <    │
    │       FND CUT CLS   │ │    }   )   ]   >    │
    ╰───────╮             │ │             ╭───────╯
            ╰─────────────╯ ╰─────────────╯
*/


// DEFINITION

combos {
    compatible = "zmk,combos";

// clipboard
COMBO(paste, &kp LG(V),     LT2 LT1)
COMBO(copy,  &kp LG(C),     LM2 LM1)
COMBO(cut,   &kp LG(X),     LB2 LB1)

// revision
COMBO(redo,  &kp LG(LS(Z)), LT3 LT2)
COMBO(undo,  &kp LG(Z),     LM3 LM2)

// window
COMBO(quit,  &kp LG(Q),     LT1 LT0)
COMBO(new,   &kp LG(N),     LM1 LM0)
COMBO(close, &kp LG(W),     LB1 LB0)

// structural
COMBO(lbrc,  &kp LBRC,      RM0 RM1)
COMBO(rbrc,  &kp RBRC,      RB0 RB1)
COMBO(lpar,  &kp LPAR,      RM1 RM2)
COMBO(rpar,  &kp RPAR,      RB1 RB2)
COMBO(lbkt,  &kp LBKT,      RM2 RM3)
COMBO(rbkt,  &kp RBKT,      RB2 RB3)
COMBO(lt,    &kp LT,        RM3 RM4)
COMBO(gt,    &kp GT,        RB3 RB4)

// special
COMBO(at,    &kp AT,        RT0 RT1)
COMBO(under, &kp UNDER,     RT1 RT2)
COMBO(equal, &kp EQUAL,     RT2 RT3)
COMBO(amps,  &kp AMPS,      RT3 RT4)

// other
COMBO(all,   &kp LG(F16),   LM4 LM3)
COMBO(find,  &kp LG(F),     LB3 LB2)
};
